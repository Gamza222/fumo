22971c82292c1d84c85830168371e72f
"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRouteConfigSelector = exports.getCurrentRouteConfig = exports.getRouteConfig = exports.routeConfigs = exports.defaultRouteConfig = void 0;
var route_enums_1 = require("./route.enums");
var route_constants_1 = require("./route.constants");
/**
 * Default configuration that applies to all routes
 */
exports.defaultRouteConfig = {
    loader: {
        type: route_enums_1.LoaderType.CUSTOM,
        enabled: true,
        minDisplayTime: route_constants_1.MIN_DISPLAY_TIMES.NORMAL,
        showProgress: true,
        showStepDetails: false,
    },
    cache: {
        strategy: route_enums_1.CacheStrategy.CACHE,
        enabled: true,
        ttl: route_constants_1.CACHE_TIMES[route_enums_1.CacheStrategy.CACHE],
    },
};
/**
 * Route-specific configurations
 * Override defaults for specific routes
 */
exports.routeConfigs = (_a = {},
    _a[route_enums_1.AppRoute.HOME] = {
        route: route_enums_1.AppRoute.HOME,
        type: route_enums_1.RouteType.PUBLIC,
        loader: {
            type: route_enums_1.LoaderType.FULL,
            enabled: true,
            minDisplayTime: route_constants_1.MIN_DISPLAY_TIMES.SLOW,
            showProgress: true,
            showStepDetails: true,
            customMessage: 'Loading...',
        },
        cache: {
            strategy: route_enums_1.CacheStrategy.CACHE,
            enabled: true,
            key: "".concat(route_constants_1.CACHE_KEY_PREFIXES.ROUTE, "-home"),
        },
        metadata: {
            title: 'Home - Fumo',
            description: 'Fumo main page',
            requiresAuth: false,
        },
    },
    _a[route_enums_1.AppRoute.ABOUT] = __assign(__assign({ route: route_enums_1.AppRoute.ABOUT, type: route_enums_1.RouteType.PUBLIC }, exports.defaultRouteConfig), { metadata: {
            title: 'About - Fumo',
            description: 'Learn more about Fumo',
            requiresAuth: false,
        } }),
    _a);
/**
 * Get route configuration for a specific route
 * Merges route-specific config with defaults
 */
var getRouteConfig = function (route) {
    var _a, _b;
    var specificConfig = exports.routeConfigs[route];
    return {
        route: route,
        type: specificConfig.type || route_enums_1.RouteType.PUBLIC,
        loader: __assign(__assign({}, exports.defaultRouteConfig.loader), specificConfig.loader),
        cache: __assign(__assign(__assign({}, exports.defaultRouteConfig.cache), specificConfig.cache), { ttl: ((_a = specificConfig.cache) === null || _a === void 0 ? void 0 : _a.ttl) ||
                route_constants_1.CACHE_TIMES[((_b = specificConfig.cache) === null || _b === void 0 ? void 0 : _b.strategy) || route_enums_1.CacheStrategy.CACHE] }),
        metadata: specificConfig.metadata || {},
    };
};
exports.getRouteConfig = getRouteConfig;
/**
 * Get current route configuration based on pathname
 * Handles dynamic routes and fallbacks
 */
var getCurrentRouteConfig = function (pathname) {
    // Handle null/undefined pathname
    var safePathname = pathname || '/';
    // Try exact match first
    var exactRoute = Object.values(route_enums_1.AppRoute).find(function (route) { return route === safePathname; });
    if (exactRoute) {
        return {
            route: exactRoute,
            pathname: safePathname,
            config: (0, exports.getRouteConfig)(exactRoute),
            isMatched: true,
        };
    }
    // Handle dynamic routes and patterns
    for (var _i = 0, _a = Object.values(route_enums_1.AppRoute); _i < _a.length; _i++) {
        var route = _a[_i];
        if (safePathname.startsWith(route) && route !== route_enums_1.AppRoute.HOME) {
            return {
                route: route,
                pathname: safePathname,
                config: (0, exports.getRouteConfig)(route),
                isMatched: true,
            };
        }
    }
    // Fallback to home route
    return {
        route: route_enums_1.AppRoute.HOME,
        pathname: safePathname,
        config: (0, exports.getRouteConfig)(route_enums_1.AppRoute.HOME),
        isMatched: false,
    };
};
exports.getCurrentRouteConfig = getCurrentRouteConfig;
/**
 * Create a route configuration selector
 * Useful for components that need to react to route changes
 */
var createRouteConfigSelector = function () {
    return function (pathname) {
        var currentRoute = (0, exports.getCurrentRouteConfig)(pathname);
        return currentRoute.isMatched ? currentRoute.config : null;
    };
};
exports.createRouteConfigSelector = createRouteConfigSelector;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2dhbXphcmFtYXphbm92L0Rlc2t0b3AvZnVtby9zcmMvc2hhcmVkL2NvbmZpZy9yb3V0ZS9yb3V0ZS5jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQStFO0FBTy9FLHFEQUF1RjtBQUV2Rjs7R0FFRztBQUNVLFFBQUEsa0JBQWtCLEdBQXVCO0lBQ3BELE1BQU0sRUFBRTtRQUNOLElBQUksRUFBRSx3QkFBVSxDQUFDLE1BQU07UUFDdkIsT0FBTyxFQUFFLElBQUk7UUFDYixjQUFjLEVBQUUsbUNBQWlCLENBQUMsTUFBTTtRQUN4QyxZQUFZLEVBQUUsSUFBSTtRQUNsQixlQUFlLEVBQUUsS0FBSztLQUN2QjtJQUNELEtBQUssRUFBRTtRQUNMLFFBQVEsRUFBRSwyQkFBYSxDQUFDLEtBQUs7UUFDN0IsT0FBTyxFQUFFLElBQUk7UUFDYixHQUFHLEVBQUUsNkJBQVcsQ0FBQywyQkFBYSxDQUFDLEtBQUssQ0FBQztLQUN0QztDQUNGLENBQUM7QUFFRjs7O0dBR0c7QUFDVSxRQUFBLFlBQVk7SUFDdkIsR0FBQyxzQkFBUSxDQUFDLElBQUksSUFBRztRQUNmLEtBQUssRUFBRSxzQkFBUSxDQUFDLElBQUk7UUFDcEIsSUFBSSxFQUFFLHVCQUFTLENBQUMsTUFBTTtRQUN0QixNQUFNLEVBQUU7WUFDTixJQUFJLEVBQUUsd0JBQVUsQ0FBQyxJQUFJO1lBQ3JCLE9BQU8sRUFBRSxJQUFJO1lBQ2IsY0FBYyxFQUFFLG1DQUFpQixDQUFDLElBQUk7WUFDdEMsWUFBWSxFQUFFLElBQUk7WUFDbEIsZUFBZSxFQUFFLElBQUk7WUFDckIsYUFBYSxFQUFFLFlBQVk7U0FDNUI7UUFDRCxLQUFLLEVBQUU7WUFDTCxRQUFRLEVBQUUsMkJBQWEsQ0FBQyxLQUFLO1lBQzdCLE9BQU8sRUFBRSxJQUFJO1lBQ2IsR0FBRyxFQUFFLFVBQUcsb0NBQWtCLENBQUMsS0FBSyxVQUFPO1NBQ3hDO1FBQ0QsUUFBUSxFQUFFO1lBQ1IsS0FBSyxFQUFFLGFBQWE7WUFDcEIsV0FB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cUIsRUFBQyxRQUFRLENBQUMsQ0FBQztRQUNyRCxPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUM3RCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7QUFMVyxRQUFBLHlCQUF5Qiw2QkFLcEMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2dhbXphcmFtYXphbm92L0Rlc2t0b3AvZnVtby9zcmMvc2hhcmVkL2NvbmZpZy9yb3V0ZS9yb3V0ZS5jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGUsIFJvdXRlVHlwZSwgTG9hZGVyVHlwZSwgQ2FjaGVTdHJhdGVneSB9IGZyb20gJy4vcm91dGUuZW51bXMnO1xuaW1wb3J0IHtcbiAgUm91dGVDb25maWcsXG4gIERlZmF1bHRSb3V0ZUNvbmZpZyxcbiAgUm91dGVDb25maWdTZWxlY3RvcixcbiAgQ3VycmVudFJvdXRlSW5mbyxcbn0gZnJvbSAnLi9yb3V0ZS50eXBlcyc7XG5pbXBvcnQgeyBDQUNIRV9USU1FUywgTUlOX0RJU1BMQVlfVElNRVMsIENBQ0hFX0tFWV9QUkVGSVhFUyB9IGZyb20gJy4vcm91dGUuY29uc3RhbnRzJztcblxuLyoqXG4gKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gdGhhdCBhcHBsaWVzIHRvIGFsbCByb3V0ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRSb3V0ZUNvbmZpZzogRGVmYXVsdFJvdXRlQ29uZmlnID0ge1xuICBsb2FkZXI6IHtcbiAgICB0eXBlOiBMb2FkZXJUeXBlLkNVU1RPTSxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIG1pbkRpc3BsYXlUaW1lOiBNSU5fRElTUExBWV9USU1FUy5OT1JNQUwsXG4gICAgc2hvd1Byb2dyZXNzOiB0cnVlLFxuICAgIHNob3dTdGVwRGV0YWlsczogZmFsc2UsXG4gIH0sXG4gIGNhY2hlOiB7XG4gICAgc3RyYXRlZ3k6IENhY2hlU3RyYXRlZ3kuQ0FDSEUsXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICB0dGw6IENBQ0hFX1RJTUVTW0NhY2hlU3RyYXRlZ3kuQ0FDSEVdLFxuICB9LFxufTtcblxuLyoqXG4gKiBSb3V0ZS1zcGVjaWZpYyBjb25maWd1cmF0aW9uc1xuICogT3ZlcnJpZGUgZGVmYXVsdHMgZm9yIHNwZWNpZmljIHJvdXRlc1xuICovXG5leHBvcnQgY29uc3Qgcm91dGVDb25maWdzOiBSZWNvcmQ8QXBwUm91dGUsIFBhcnRpYWw8Um91dGVDb25maWc+PiA9IHtcbiAgW0FwcFJvdXRlLkhPTUVdOiB7XG4gICAgcm91dGU6IEFwcFJvdXRlLkhPTUUsXG4gICAgdHlwZTogUm91dGVUeXBlLlBVQkxJQyxcbiAgICBsb2FkZXI6IHtcbiAgICAgIHR5cGU6IExvYWRlclR5cGUuRlVMTCxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBtaW5EaXNwbGF5VGltZTogTUlOX0RJU1BMQVlfVElNRVMuU0xPVyxcbiAgICAgIHNob3dQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHNob3dTdGVwRGV0YWlsczogdHJ1ZSxcbiAgICAgIGN1c3RvbU1lc3NhZ2U6ICdMb2FkaW5nLi4uJyxcbiAgICB9LFxuICAgIGNhY2hlOiB7XG4gICAgICBzdHJhdGVneTogQ2FjaGVTdHJhdGVneS5DQUNIRSxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBrZXk6IGAke0NBQ0hFX0tFWV9QUkVGSVhFUy5ST1VURX0taG9tZWAsXG4gICAgfSxcbiAgICBtZXRhZGF0YToge1xuICAgICAgdGl0bGU6ICdIb21lIC0gRnVtbycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0Z1bW8gbWFpbiBwYWdlJyxcbiAgICAgIHJlcXVpcmVzQXV0aDogZmFsc2UsXG4gICAgfSxcbiAgfSxcblxuICBbQXBwUm91dGUuQUJPVVRdOiB7XG4gICAgcm91dGU6IEFwcFJvdXRlLkFCT1VULFxuICAgIHR5cGU6IFJvdXRlVHlwZS5QVUJMSUMsXG4gICAgLi4uZGVmYXVsdFJvdXRlQ29uZmlnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICB0aXRsZTogJ0Fib3V0IC0gRnVtbycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xlYXJuIG1vcmUgYWJvdXQgRnVtbycsXG4gICAgICByZXF1aXJlc0F1dGg6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG59O1xuXG4vKipcbiAqIEdldCByb3V0ZSBjb25maWd1cmF0aW9uIGZvciBhIHNwZWNpZmljIHJvdXRlXG4gKiBNZXJnZXMgcm91dGUtc3BlY2lmaWMgY29uZmlnIHdpdGggZGVmYXVsdHNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFJvdXRlQ29uZmlnID0gKHJvdXRlOiBBcHBSb3V0ZSk6IFJvdXRlQ29uZmlnID0+IHtcbiAgY29uc3Qgc3BlY2lmaWNDb25maWcgPSByb3V0ZUNvbmZpZ3Nbcm91dGVdO1xuXG4gIHJldHVybiB7XG4gICAgcm91dGUsXG4gICAgdHlwZTogc3BlY2lmaWNDb25maWcudHlwZSB8fCBSb3V0ZVR5cGUuUFVCTElDLFxuICAgIGxvYWRlcjoge1xuICAgICAgLi4uZGVmYXVsdFJvdXRlQ29uZmlnLmxvYWRlcixcbiAgICAgIC4uLnNwZWNpZmljQ29uZmlnLmxvYWRlcixcbiAgICB9LFxuICAgIGNhY2hlOiB7XG4gICAgICAuLi5kZWZhdWx0Um91dGVDb25maWcuY2FjaGUsXG4gICAgICAuLi5zcGVjaWZpY0NvbmZpZy5jYWNoZSxcbiAgICAgIHR0bDpcbiAgICAgICAgc3BlY2lmaWNDb25maWcuY2FjaGU/LnR0bCB8fFxuICAgICAgICBDQUNIRV9USU1FU1tzcGVjaWZpY0NvbmZpZy5jYWNoZT8uc3RyYXRlZ3kgfHwgQ2FjaGVTdHJhdGVneS5DQUNIRV0sXG4gICAgfSxcbiAgICBtZXRhZGF0YTogc3BlY2lmaWNDb25maWcubWV0YWRhdGEgfHwge30sXG4gIH07XG59O1xuXG4vKipcbiAqIEdldCBjdXJyZW50IHJvdXRlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gcGF0aG5hbWVcbiAqIEhhbmRsZXMgZHluYW1pYyByb3V0ZXMgYW5kIGZhbGxiYWNrc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFJvdXRlQ29uZmlnID0gKHBhdGhuYW1lOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogQ3VycmVudFJvdXRlSW5mbyA9PiB7XG4gIC8vIEhhbmRsZSBudWxsL3VuZGVmaW5lZCBwYXRobmFtZVxuICBjb25zdCBzYWZlUGF0aG5hbWUgPSBwYXRobmFtZSB8fCAnLyc7XG5cbiAgLy8gVHJ5IGV4YWN0IG1hdGNoIGZpcnN0XG4gIGNvbnN0IGV4YWN0Um91dGUgPSBPYmplY3QudmFsdWVzKEFwcFJvdXRlKS5maW5kKChyb3V0ZSkgPT4gcm91dGUgPT09IChzYWZlUGF0aG5hbWUgYXMgQXBwUm91dGUpKTtcblxuICBpZiAoZXhhY3RSb3V0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICByb3V0ZTogZXhhY3RSb3V0ZSxcbiAgICAgIHBhdGhuYW1lOiBzYWZlUGF0aG5hbWUsXG4gICAgICBjb25maWc6IGdldFJvdXRlQ29uZmlnKGV4YWN0Um91dGUpLFxuICAgICAgaXNNYXRjaGVkOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICAvLyBIYW5kbGUgZHluYW1pYyByb3V0ZXMgYW5kIHBhdHRlcm5zXG4gIGZvciAoY29uc3Qgcm91dGUgb2YgT2JqZWN0LnZhbHVlcyhBcHBSb3V0ZSkpIHtcbiAgICBpZiAoc2FmZVBhdGhuYW1lLnN0YXJ0c1dpdGgocm91dGUpICYmIHJvdXRlICE9PSBBcHBSb3V0ZS5IT01FKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb3V0ZTogcm91dGUgYXMgQXBwUm91dGUsXG4gICAgICAgIHBhdGhuYW1lOiBzYWZlUGF0aG5hbWUsXG4gICAgICAgIGNvbmZpZzogZ2V0Um91dGVDb25maWcocm91dGUgYXMgQXBwUm91dGUpLFxuICAgICAgICBpc01hdGNoZWQ6IHRydWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIGhvbWUgcm91dGVcbiAgcmV0dXJuIHtcbiAgICByb3V0ZTogQXBwUm91dGUuSE9NRSxcbiAgICBwYXRobmFtZTogc2FmZVBhdGhuYW1lLFxuICAgIGNvbmZpZzogZ2V0Um91dGVDb25maWcoQXBwUm91dGUuSE9NRSksXG4gICAgaXNNYXRjaGVkOiBmYWxzZSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgcm91dGUgY29uZmlndXJhdGlvbiBzZWxlY3RvclxuICogVXNlZnVsIGZvciBjb21wb25lbnRzIHRoYXQgbmVlZCB0byByZWFjdCB0byByb3V0ZSBjaGFuZ2VzXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVSb3V0ZUNvbmZpZ1NlbGVjdG9yID0gKCk6IFJvdXRlQ29uZmlnU2VsZWN0b3IgPT4ge1xuICByZXR1cm4gKHBhdGhuYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Um91dGUgPSBnZXRDdXJyZW50Um91dGVDb25maWcocGF0aG5hbWUpO1xuICAgIHJldHVybiBjdXJyZW50Um91dGUuaXNNYXRjaGVkID8gY3VycmVudFJvdXRlLmNvbmZpZyA6IG51bGw7XG4gIH07XG59O1xuIl0sInZlcnNpb24iOjN9