{"file":"/Users/gamzaramazanov/Desktop/fumo/src/infrastructure/providers/app-loading/hooks/useAppLoading.test.ts","mappings":"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","names":[],"sources":["/Users/gamzaramazanov/Desktop/fumo/src/infrastructure/providers/app-loading/hooks/useAppLoading.test.ts"],"sourcesContent":["/**\n * useAppLoading Hook Tests\n *\n * Comprehensive tests for initial app loading functionality.\n * Tests all loading conditions, error handling, and state management.\n */\n\nimport { renderHook, act, waitFor } from \"@testing-library/react\";\nimport { useAppLoading } from \"./useAppLoading\";\n\n// ============================================================================\n// MOCK SETUP\n// ============================================================================\n\n// Mock DOM APIs\nObject.defineProperty(document, \"readyState\", {\n  writable: true,\n  value: \"loading\",\n});\n\nObject.defineProperty(window, \"performance\", {\n  writable: true,\n  value: {\n    now: jest.fn(() => Date.now()),\n  },\n});\n\n// Mock document methods\nconst mockQuerySelectorAll = jest.fn();\nconst mockQuerySelector = jest.fn();\nconst mockHasAttribute = jest.fn();\nconst mockClassList = {\n  contains: jest.fn(),\n};\n\nObject.defineProperty(document, \"querySelectorAll\", {\n  value: mockQuerySelectorAll,\n});\n\nObject.defineProperty(document, \"querySelector\", {\n  value: mockQuerySelector,\n});\n\nObject.defineProperty(document.documentElement, \"hasAttribute\", {\n  value: mockHasAttribute,\n});\n\nObject.defineProperty(document.documentElement, \"classList\", {\n  value: mockClassList,\n});\n\nObject.defineProperty(document.body, \"classList\", {\n  value: mockClassList,\n});\n\n// ============================================================================\n// TEST UTILITIES\n// ============================================================================\n\nconst setupDOM = (options: {\n  readyState?: string;\n  criticalCSS?: boolean;\n  theme?: boolean;\n  performanceNow?: number;\n}) => {\n  document.readyState = options.readyState || \"complete\";\n\n  // Mock critical CSS\n  if (options.criticalCSS) {\n    mockQuerySelectorAll.mockReturnValue([\n      { sheet: { cssRules: [] } }, // Simulate loaded stylesheet\n    ]);\n  } else {\n    mockQuerySelectorAll.mockReturnValue([]);\n  }\n\n  // Mock theme\n  mockHasAttribute.mockReturnValue(options.theme || false);\n  mockClassList.contains.mockReturnValue(options.theme || false);\n\n  // Mock performance\n  if (options.performanceNow) {\n    (window.performance.now as jest.Mock).mockReturnValue(\n      options.performanceNow\n    );\n  }\n};\n\n// ============================================================================\n// TESTS\n// ============================================================================\n\ndescribe(\"useAppLoading\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n    setupDOM({ readyState: \"complete\", criticalCSS: true, theme: true });\n  });\n\n  afterEach(() => {\n    jest.useRealTimers();\n  });\n\n  describe(\"Initial State\", () => {\n    it(\"should start with loading state\", () => {\n      const { result } = renderHook(() => useAppLoading());\n\n      expect(result.current.isInitialLoading).toBe(true);\n      expect(result.current.progress).toBe(0);\n      expect(result.current.currentStep).toBe(\"\");\n      expect(result.current.steps).toEqual([]);\n    });\n\n    it(\"should have forceComplete and restart functions\", () => {\n      const { result } = renderHook(() => useAppLoading());\n\n      expect(typeof result.current.forceComplete).toBe(\"function\");\n      expect(typeof result.current.restart).toBe(\"function\");\n    });\n  });\n\n  describe(\"DOM Ready Check\", () => {\n    it(\"should complete when DOM is ready\", async () => {\n      setupDOM({ readyState: \"complete\" });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(result.current.progress).toBeGreaterThan(0);\n      });\n    });\n\n    it(\"should handle DOM not ready\", async () => {\n      setupDOM({ readyState: \"loading\" });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.advanceTimersByTime(3000); // Wait for timeout\n      });\n\n      await waitFor(() => {\n        expect(result.current.progress).toBeGreaterThan(0);\n      });\n    });\n  });\n\n  describe(\"Critical CSS Check\", () => {\n    it(\"should complete when critical CSS is loaded\", async () => {\n      setupDOM({\n        readyState: \"complete\",\n        criticalCSS: true,\n      });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(\n          result.current.steps.some(\n            (step) => step.id === \"critical-css\" && step.completed\n          )\n        ).toBe(true);\n      });\n    });\n\n    it(\"should complete when no critical CSS defined\", async () => {\n      setupDOM({\n        readyState: \"complete\",\n        criticalCSS: false,\n      });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(\n          result.current.steps.some(\n            (step) => step.id === \"critical-css\" && step.completed\n          )\n        ).toBe(true);\n      });\n    });\n  });\n\n  describe(\"Theme Check\", () => {\n    it(\"should complete when theme is initialized\", async () => {\n      setupDOM({\n        readyState: \"complete\",\n        theme: true,\n      });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(\n          result.current.steps.some(\n            (step) => step.id === \"theme-initialized\" && step.completed\n          )\n        ).toBe(true);\n      });\n    });\n\n    it(\"should handle theme not initialized\", async () => {\n      setupDOM({\n        readyState: \"complete\",\n        theme: false,\n      });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.advanceTimersByTime(3000); // Wait for timeout\n      });\n\n      await waitFor(() => {\n        expect(result.current.progress).toBeGreaterThan(0);\n      });\n    });\n  });\n\n  describe(\"Minimum Display Time\", () => {\n    it(\"should wait for minimum display time\", async () => {\n      setupDOM({ readyState: \"complete\" });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      // Fast forward to minimum time\n      await act(async () => {\n        jest.advanceTimersByTime(1200);\n      });\n\n      await waitFor(() => {\n        expect(\n          result.current.steps.some(\n            (step) => step.id === \"minimum-display-time\" && step.completed\n          )\n        ).toBe(true);\n      });\n    });\n  });\n\n  describe(\"Progress Tracking\", () => {\n    it(\"should update progress as conditions complete\", async () => {\n      setupDOM({ readyState: \"complete\" });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(result.current.progress).toBe(100);\n      });\n    });\n\n    it(\"should update current step\", async () => {\n      setupDOM({ readyState: \"complete\" });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(result.current.currentStep).toBe(\"Ready\");\n      });\n    });\n  });\n\n  describe(\"Force Complete\", () => {\n    it(\"should force complete loading\", async () => {\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        result.current.forceComplete();\n      });\n\n      expect(result.current.isInitialLoading).toBe(false);\n      expect(result.current.progress).toBe(100);\n      expect(result.current.currentStep).toBe(\"Ready\");\n    });\n  });\n\n  describe(\"Restart\", () => {\n    it(\"should restart loading process\", async () => {\n      const { result } = renderHook(() => useAppLoading());\n\n      // Force complete first\n      await act(async () => {\n        result.current.forceComplete();\n      });\n\n      // Then restart\n      await act(async () => {\n        result.current.restart();\n      });\n\n      expect(result.current.isInitialLoading).toBe(true);\n      expect(result.current.progress).toBe(0);\n      expect(result.current.currentStep).toBe(\"\");\n    });\n  });\n\n  describe(\"Error Handling\", () => {\n    it(\"should handle condition check failures gracefully\", async () => {\n      // Mock a condition that throws\n      setupDOM({ readyState: \"complete\" });\n\n      // Mock a failing condition\n      const originalQuerySelectorAll = document.querySelectorAll;\n      document.querySelectorAll = jest.fn(() => {\n        throw new Error(\"DOM Error\");\n      });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.advanceTimersByTime(3000);\n      });\n\n      await waitFor(() => {\n        expect(result.current.progress).toBeGreaterThan(0);\n      });\n\n      // Restore original function\n      document.querySelectorAll = originalQuerySelectorAll;\n    });\n  });\n\n  describe(\"Complete Loading Flow\", () => {\n    it(\"should complete full loading sequence\", async () => {\n      setupDOM({\n        readyState: \"complete\",\n        criticalCSS: true,\n        theme: true,\n      });\n\n      const { result } = renderHook(() => useAppLoading());\n\n      await act(async () => {\n        jest.runAllTimers();\n      });\n\n      await waitFor(() => {\n        expect(result.current.isInitialLoading).toBe(false);\n        expect(result.current.progress).toBe(100);\n        expect(result.current.currentStep).toBe(\"Ready\");\n        expect(result.current.steps.every((step) => step.completed)).toBe(true);\n      });\n    });\n  });\n});\n"],"version":3}