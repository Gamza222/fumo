1eff1da2b38d25a851be4616d3801905
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PerformanceMonitor = void 0;
var jsx_runtime_1 = require("react/jsx-runtime");
var react_1 = __importStar(require("react"));
var performance_monitor_module_scss_1 = __importDefault(require("./performance-monitor.module.scss"));
var PerformanceMonitor = function (_a) {
    var _b = _a.position, position = _b === void 0 ? 'top-right' : _b, className = _a.className;
    var _c = (0, react_1.useState)(false), isOpen = _c[0], setIsOpen = _c[1];
    var _d = (0, react_1.useState)({
        renderTime: 0,
        memoryUsage: 0,
        lcp: 0,
        fcp: 0,
        cls: 0,
    }), performanceData = _d[0], setPerformanceData = _d[1];
    var positionClass = {
        'top-left': performance_monitor_module_scss_1.default.monitorTopLeft,
        'top-right': performance_monitor_module_scss_1.default.monitorTopRight,
        'bottom-left': performance_monitor_module_scss_1.default.monitorBottomLeft,
        'bottom-right': performance_monitor_module_scss_1.default.monitorBottomRight,
    };
    (0, react_1.useEffect)(function () {
        var interval = setInterval(function () {
            setPerformanceData({
                renderTime: Math.random() * 50,
                memoryUsage: Math.random() * 200,
                lcp: Math.random() * 3000,
                fcp: Math.random() * 2000,
                cls: Math.random() * 0.2,
            });
        }, 1000);
        return function () { return clearInterval(interval); };
    }, []);
    var getProgressClass = function (value, threshold) {
        if (value > threshold)
            return performance_monitor_module_scss_1.default.progressFillError;
        if (value > threshold * 0.7)
            return performance_monitor_module_scss_1.default.progressFillWarning;
        return performance_monitor_module_scss_1.default.progressFillGood;
    };
    var getVitalsClass = function (value, threshold) {
        return value > threshold ? performance_monitor_module_scss_1.default.vitalsValueError : performance_monitor_module_scss_1.default.vitalsValueGood;
    };
    return ((0, jsx_runtime_1.jsxs)("div", { className: "".concat(performance_monitor_module_scss_1.default.monitor, " ").concat(positionClass[position], " ").concat(className || ''), children: [(0, jsx_runtime_1.jsx)("button", { onClick: function () { return setIsOpen(!isOpen); }, className: performance_monitor_module_scss_1.default.toggleButton, children: "Performance" }), isOpen && ((0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.panelContent, children: [(0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.panelHeader, children: [(0, jsx_runtime_1.jsx)("h3", { className: performance_monitor_module_scss_1.default.panelTitle, children: "Performance" }), (0, jsx_runtime_1.jsx)("button", { onClick: function () { return setIsOpen(false); }, className: performance_monitor_module_scss_1.default.closeButton, children: "\u00D7" })] }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.metricSection, children: [(0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.metricHeader, children: [(0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.metricLabel, children: "Render Time" }), (0, jsx_runtime_1.jsxs)("span", { className: performance_monitor_module_scss_1.default.metricValue, children: [performanceData.renderTime.toFixed(1), "ms"] })] }), (0, jsx_runtime_1.jsx)("div", { className: performance_monitor_module_scss_1.default.progressBar, children: (0, jsx_runtime_1.jsx)("div", { className: "".concat(performance_monitor_module_scss_1.default.progressFill, " ").concat(getProgressClass(performanceData.renderTime, 20)), style: {
                                        width: "".concat(Math.min((performanceData.renderTime / 50) * 100, 100), "%"),
                                    } }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.metricSection, children: [(0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.metricHeader, children: [(0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.metricLabel, children: "Memory Usage" }), (0, jsx_runtime_1.jsxs)("span", { className: performance_monitor_module_scss_1.default.metricValue, children: [performanceData.memoryUsage.toFixed(1), "MB"] })] }), (0, jsx_runtime_1.jsx)("div", { className: performance_monitor_module_scss_1.default.progressBar, children: (0, jsx_runtime_1.jsx)("div", { className: "".concat(performance_monitor_module_scss_1.default.progressFill, " ").concat(getProgressClass(performanceData.memoryUsage, 100)), style: {
                                        width: "".concat(Math.min((performanceData.memoryUsage / 200) * 100, 100), "%"),
                                    } }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.metricSection, children: [(0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.metricHeader, children: [(0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.metricLabel, children: "Bundle Size" }), (0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.metricValue, children: "2.1MB" })] }), (0, jsx_runtime_1.jsx)("div", { className: performance_monitor_module_scss_1.default.progressBar, children: (0, jsx_runtime_1.jsx)("div", { className: "".concat(performance_monitor_module_scss_1.default.progressFill, " ").concat(getProgressClass(2.1, 1.5)), style: { width: "".concat(Math.min((2.1 / 3) * 100, 100), "%") } }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.vitalsSection, children: [(0, jsx_runtime_1.jsx)("h4", { className: performance_monitor_module_scss_1.default.vitalsTitle, children: "Web Vitals" }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.vitalsList, children: [(0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.vitalsRow, children: [(0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.vitalsLabel, children: "LCP:" }), (0, jsx_runtime_1.jsxs)("span", { className: getVitalsClass(performanceData.lcp, 2500), children: [performanceData.lcp.toFixed(0), "ms"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.vitalsRow, children: [(0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.vitalsLabel, children: "FCP:" }), (0, jsx_runtime_1.jsxs)("span", { className: getVitalsClass(performanceData.fcp, 1800), children: [performanceData.fcp.toFixed(0), "ms"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: performance_monitor_module_scss_1.default.vitalsRow, children: [(0, jsx_runtime_1.jsx)("span", { className: performance_monitor_module_scss_1.default.vitalsLabel, children: "CLS:" }), (0, jsx_runtime_1.jsx)("span", { className: getVitalsClass(performanceData.cls, 0.1), children: performanceData.cls.toFixed(3) })] })] })] })] }))] }));
};
exports.PerformanceMonitor = PerformanceMonitor;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2dhbXphcmFtYXphbm92L0Rlc2t0b3AvZnVtby9zcmMvc2hhcmVkL2xpYi9kZXYtdG9vbHMvcGVyZm9ybWFuY2UtbW9uaXRvci9wZXJmb3JtYW5jZS1tb25pdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQW1EO0FBQ25ELHNHQUF1RDtBQWVoRCxJQUFNLGtCQUFrQixHQUFzQyxVQUFDLEVBR3JFO1FBRkMsZ0JBQXNCLEVBQXRCLFFBQVEsbUJBQUcsV0FBVyxLQUFBLEVBQ3RCLFNBQVMsZUFBQTtJQUVILElBQUEsS0FBc0IsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxFQUFwQyxNQUFNLFFBQUEsRUFBRSxTQUFTLFFBQW1CLENBQUM7SUFDdEMsSUFBQSxLQUF3QyxJQUFBLGdCQUFRLEVBQWtCO1FBQ3RFLFVBQVUsRUFBRSxDQUFDO1FBQ2IsV0FBVyxFQUFFLENBQUM7UUFDZCxHQUFHLEVBQUUsQ0FBQztRQUNOLEdBQUcsRUFBRSxDQUFDO1FBQ04sR0FBRyxFQUFFLENBQUM7S0FDUCxDQUFDLEVBTkssZUFBZSxRQUFBLEVBQUUsa0JBQWtCLFFBTXhDLENBQUM7SUFFSCxJQUFNLGFBQWEsR0FBRztRQUNwQixVQUFVLEVBQUUseUNBQU0sQ0FBQyxjQUFjO1FBQ2pDLFdBQVcsRUFBRSx5Q0FBTSxDQUFDLGVBQWU7UUFDbkMsYUFBYSxFQUFFLHlDQUFNLENBQUMsaUJBQWlCO1FBQ3ZDLGNBQWMsRUFBRSx5Q0FBTSxDQUFDLGtCQUFrQjtLQUMxQyxDQUFDO0lBRUYsSUFBQSxpQkFBUyxFQUFDO1FBQ1IsSUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDO1lBQzNCLGtCQUFrQixDQUFDO2dCQUNqQixVQUFVLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQzlCLFdBQVcsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRztnQkFDaEMsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFN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LENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsYUFDdkQsZUFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFVBQzFCLElBQ0gsRUFDTixpQ0FBSyxTQUFTLEVBQUUseUNBQU0sQ0FBQyxTQUFTLGFBQzlCLGlDQUFNLFNBQVMsRUFBRSx5Q0FBTSxDQUFDLFdBQVcscUJBQWEsRUFDaEQsa0NBQU0sU0FBUyxFQUFFLGNBQWMsQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxhQUN2RCxlQUFlLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsVUFDMUIsSUFDSCxFQUNOLGlDQUFLLFNBQVMsRUFBRSx5Q0FBTSxDQUFDLFNBQVMsYUFDOUIsaUNBQU0sU0FBUyxFQUFFLHlDQUFNLENBQUMsV0FBVyxxQkFBYSxFQUNoRCxpQ0FBTSxTQUFTLEVBQUUsY0FBYyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLFlBQ3RELGVBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUMxQixJQUNILElBQ0YsSUFDRixJQUNGLENBQ1AsSUFDRyxDQUNQLENBQUM7QUFDSixDQUFDLENBQUM7QUFqSVcsUUFBQSxrQkFBa0Isc0JBaUk3QiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZ2FtemFyYW1hemFub3YvRGVza3RvcC9mdW1vL3NyYy9zaGFyZWQvbGliL2Rldi10b29scy9wZXJmb3JtYW5jZS1tb25pdG9yL3BlcmZvcm1hbmNlLW1vbml0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3BlcmZvcm1hbmNlLW1vbml0b3IubW9kdWxlLnNjc3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlRGF0YSB7XG4gIHJlbmRlclRpbWU6IG51bWJlcjtcbiAgbWVtb3J5VXNhZ2U6IG51bWJlcjtcbiAgbGNwOiBudW1iZXI7XG4gIGZjcDogbnVtYmVyO1xuICBjbHM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZU1vbml0b3JQcm9wcyB7XG4gIHBvc2l0aW9uPzogJ3RvcC1sZWZ0JyB8ICd0b3AtcmlnaHQnIHwgJ2JvdHRvbS1sZWZ0JyB8ICdib3R0b20tcmlnaHQnO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBQZXJmb3JtYW5jZU1vbml0b3I6IFJlYWN0LkZDPFBlcmZvcm1hbmNlTW9uaXRvclByb3BzPiA9ICh7XG4gIHBvc2l0aW9uID0gJ3RvcC1yaWdodCcsXG4gIGNsYXNzTmFtZSxcbn0pID0+IHtcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BlcmZvcm1hbmNlRGF0YSwgc2V0UGVyZm9ybWFuY2VEYXRhXSA9IHVzZVN0YXRlPFBlcmZvcm1hbmNlRGF0YT4oe1xuICAgIHJlbmRlclRpbWU6IDAsXG4gICAgbWVtb3J5VXNhZ2U6IDAsXG4gICAgbGNwOiAwLFxuICAgIGZjcDogMCxcbiAgICBjbHM6IDAsXG4gIH0pO1xuXG4gIGNvbnN0IHBvc2l0aW9uQ2xhc3MgPSB7XG4gICAgJ3RvcC1sZWZ0Jzogc3R5bGVzLm1vbml0b3JUb3BMZWZ0LFxuICAgICd0b3AtcmlnaHQnOiBzdHlsZXMubW9uaXRvclRvcFJpZ2h0LFxuICAgICdib3R0b20tbGVmdCc6IHN0eWxlcy5tb25pdG9yQm90dG9tTGVmdCxcbiAgICAnYm90dG9tLXJpZ2h0Jzogc3R5bGVzLm1vbml0b3JCb3R0b21SaWdodCxcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0UGVyZm9ybWFuY2VEYXRhKHtcbiAgICAgICAgcmVuZGVyVGltZTogTWF0aC5yYW5kb20oKSAqIDUwLFxuICAgICAgICBtZW1vcnlVc2FnZTogTWF0aC5yYW5kb20oKSAqIDIwMCxcbiAgICAgICAgbGNwOiBNYXRoLnJhbmRvbSgpICogMzAwMCxcbiAgICAgICAgZmNwOiBNYXRoLnJhbmRvbSgpICogMjAwMCxcbiAgICAgICAgY2xzOiBNYXRoLnJhbmRvbSgpICogMC4yLFxuICAgICAgfSk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBnZXRQcm9ncmVzc0NsYXNzID0gKHZhbHVlOiBudW1iZXIsIHRocmVzaG9sZDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHZhbHVlID4gdGhyZXNob2xkKSByZXR1cm4gc3R5bGVzLnByb2dyZXNzRmlsbEVycm9yO1xuICAgIGlmICh2YWx1ZSA+IHRocmVzaG9sZCAqIDAuNykgcmV0dXJuIHN0eWxlcy5wcm9ncmVzc0ZpbGxXYXJuaW5nO1xuICAgIHJldHVybiBzdHlsZXMucHJvZ3Jlc3NGaWxsR29vZDtcbiAgfTtcblxuICBjb25zdCBnZXRWaXRhbHNDbGFzcyA9ICh2YWx1ZTogbnVtYmVyLCB0aHJlc2hvbGQ6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiB2YWx1ZSA+IHRocmVzaG9sZCA/IHN0eWxlcy52aXRhbHNWYWx1ZUVycm9yIDogc3R5bGVzLnZpdGFsc1ZhbHVlR29vZDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzdHlsZXMubW9uaXRvcn0gJHtwb3NpdGlvbkNsYXNzW3Bvc2l0aW9uXX0gJHtjbGFzc05hbWUgfHwgJyd9YH0+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX0gY2xhc3NOYW1lPXtzdHlsZXMudG9nZ2xlQnV0dG9ufT5cbiAgICAgICAgUGVyZm9ybWFuY2VcbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7aXNPcGVuICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wYW5lbENvbnRlbnR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucGFuZWxIZWFkZXJ9PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT17c3R5bGVzLnBhbmVsVGl0bGV9PlBlcmZvcm1hbmNlPC9oMz5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKGZhbHNlKX0gY2xhc3NOYW1lPXtzdHlsZXMuY2xvc2VCdXR0b259PlxuICAgICAgICAgICAgICDDl1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1ldHJpY1NlY3Rpb259PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tZXRyaWNIZWFkZXJ9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5tZXRyaWNMYWJlbH0+UmVuZGVyIFRpbWU8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLm1ldHJpY1ZhbHVlfT57cGVyZm9ybWFuY2VEYXRhLnJlbmRlclRpbWUudG9GaXhlZCgxKX1tczwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wcm9ncmVzc0Jhcn0+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5wcm9ncmVzc0ZpbGx9ICR7Z2V0UHJvZ3Jlc3NDbGFzcyhwZXJmb3JtYW5jZURhdGEucmVuZGVyVGltZSwgMjApfWB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtNYXRoLm1pbigocGVyZm9ybWFuY2VEYXRhLnJlbmRlclRpbWUgLyA1MCkgKiAxMDAsIDEwMCl9JWAsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tZXRyaWNTZWN0aW9ufT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubWV0cmljSGVhZGVyfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMubWV0cmljTGFiZWx9Pk1lbW9yeSBVc2FnZTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMubWV0cmljVmFsdWV9PntwZXJmb3JtYW5jZURhdGEubWVtb3J5VXNhZ2UudG9GaXhlZCgxKX1NQjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wcm9ncmVzc0Jhcn0+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5wcm9ncmVzc0ZpbGx9ICR7Z2V0UHJvZ3Jlc3NDbGFzcyhwZXJmb3JtYW5jZURhdGEubWVtb3J5VXNhZ2UsIDEwMCl9YH1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke01hdGgubWluKChwZXJmb3JtYW5jZURhdGEubWVtb3J5VXNhZ2UgLyAyMDApICogMTAwLCAxMDApfSVgLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubWV0cmljU2VjdGlvbn0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1ldHJpY0hlYWRlcn0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLm1ldHJpY0xhYmVsfT5CdW5kbGUgU2l6ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMubWV0cmljVmFsdWV9PjIuMU1CPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnByb2dyZXNzQmFyfT5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnByb2dyZXNzRmlsbH0gJHtnZXRQcm9ncmVzc0NsYXNzKDIuMSwgMS41KX1gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtNYXRoLm1pbigoMi4xIC8gMykgKiAxMDAsIDEwMCl9JWAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy52aXRhbHNTZWN0aW9ufT5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9e3N0eWxlcy52aXRhbHNUaXRsZX0+V2ViIFZpdGFsczwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnZpdGFsc0xpc3R9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnZpdGFsc1Jvd30+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMudml0YWxzTGFiZWx9PkxDUDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtnZXRWaXRhbHNDbGFzcyhwZXJmb3JtYW5jZURhdGEubGNwLCAyNTAwKX0+XG4gICAgICAgICAgICAgICAgICB7cGVyZm9ybWFuY2VEYXRhLmxjcC50b0ZpeGVkKDApfW1zXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy52aXRhbHNSb3d9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnZpdGFsc0xhYmVsfT5GQ1A6PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Z2V0Vml0YWxzQ2xhc3MocGVyZm9ybWFuY2VEYXRhLmZjcCwgMTgwMCl9PlxuICAgICAgICAgICAgICAgICAge3BlcmZvcm1hbmNlRGF0YS5mY3AudG9GaXhlZCgwKX1tc1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudml0YWxzUm93fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy52aXRhbHNMYWJlbH0+Q0xTOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2dldFZpdGFsc0NsYXNzKHBlcmZvcm1hbmNlRGF0YS5jbHMsIDAuMSl9PlxuICAgICAgICAgICAgICAgICAge3BlcmZvcm1hbmNlRGF0YS5jbHMudG9GaXhlZCgzKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXSwidmVyc2lvbiI6M30=