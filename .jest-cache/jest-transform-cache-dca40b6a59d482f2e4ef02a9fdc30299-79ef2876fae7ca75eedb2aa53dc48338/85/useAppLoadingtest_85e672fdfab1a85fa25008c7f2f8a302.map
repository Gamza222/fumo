{"file":"/Users/gamzaramazanov/Desktop/fumo/src/infrastructure/providers/app-loading/hooks/useAppLoading/useAppLoading.test.ts","mappings":"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","names":[],"sources":["/Users/gamzaramazanov/Desktop/fumo/src/infrastructure/providers/app-loading/hooks/useAppLoading/useAppLoading.test.ts"],"sourcesContent":["/**\n * useAppLoading Hook Tests\n */\n\nimport { renderHook, act } from \"@testing-library/react\";\nimport { useAppLoading } from \"./useAppLoading\";\n\n// Mock setup\nObject.defineProperty(window, \"performance\", {\n  value: { now: jest.fn(() => 1000) },\n  writable: true,\n});\n\nObject.defineProperty(document, \"readyState\", {\n  get: () => \"complete\",\n  configurable: true,\n});\n\nObject.defineProperty(document, \"querySelectorAll\", {\n  value: jest.fn(() => []),\n  writable: true,\n});\n\nObject.defineProperty(document.documentElement, \"hasAttribute\", {\n  value: jest.fn(() => true),\n});\n\nObject.defineProperty(document.documentElement, \"classList\", {\n  value: { contains: jest.fn(() => true) },\n});\n\nObject.defineProperty(document.body, \"classList\", {\n  value: { contains: jest.fn(() => true) },\n});\n\ndescribe(\"useAppLoading\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should start with loading state\", () => {\n    const { result } = renderHook(() => useAppLoading());\n    expect(result.current.isInitialLoading).toBe(true);\n    expect(result.current.isOverallLoading).toBe(true);\n    expect(result.current.isSuspenseLoading).toBe(false);\n    expect(typeof result.current.forceComplete).toBe(\"function\");\n    expect(typeof result.current.restart).toBe(\"function\");\n    expect(typeof result.current.setSuspenseLoading).toBe(\"function\");\n  });\n\n  it(\"should force complete immediately\", () => {\n    const { result } = renderHook(() => useAppLoading());\n\n    act(() => {\n      result.current.forceComplete();\n    });\n\n    expect(result.current.isInitialLoading).toBe(false);\n    expect(result.current.isOverallLoading).toBe(false);\n    expect(result.current.progress).toBe(100);\n    expect(result.current.currentStep).toBe(\"Ready\");\n  });\n\n  it(\"should restart loading\", () => {\n    const { result } = renderHook(() => useAppLoading());\n\n    act(() => {\n      result.current.forceComplete();\n    });\n    expect(result.current.isInitialLoading).toBe(false);\n    expect(result.current.isOverallLoading).toBe(false);\n\n    act(() => {\n      result.current.restart();\n    });\n    expect(result.current.isInitialLoading).toBe(true);\n    expect(result.current.isOverallLoading).toBe(true);\n    // Don't check progress here since it starts immediately after restart\n  });\n\n  it(\"should have correct state properties\", () => {\n    const { result } = renderHook(() => useAppLoading());\n    expect(typeof result.current.progress).toBe(\"number\");\n    expect(typeof result.current.currentStep).toBe(\"string\");\n    expect(Array.isArray(result.current.steps)).toBe(true);\n  });\n\n  it(\"should handle suspense loading state\", () => {\n    const { result } = renderHook(() => useAppLoading());\n\n    // Initially suspense is not loading\n    expect(result.current.isSuspenseLoading).toBe(false);\n    expect(result.current.isOverallLoading).toBe(true); // Because initial loading is true\n\n    // Set suspense loading to true\n    act(() => {\n      result.current.setSuspenseLoading(true);\n    });\n\n    expect(result.current.isSuspenseLoading).toBe(true);\n    expect(result.current.isOverallLoading).toBe(true); // Should still be true\n\n    // Set suspense loading to false\n    act(() => {\n      result.current.setSuspenseLoading(false);\n    });\n\n    expect(result.current.isSuspenseLoading).toBe(false);\n    expect(result.current.isOverallLoading).toBe(true); // Should still be true because initial loading is true\n  });\n});\n"],"version":3}