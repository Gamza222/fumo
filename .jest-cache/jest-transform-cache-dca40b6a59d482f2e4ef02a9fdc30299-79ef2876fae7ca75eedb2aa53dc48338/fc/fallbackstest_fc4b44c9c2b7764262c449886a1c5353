79bac5d6737bbf3b1201cb7d09f5cd75
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var jsx_runtime_1 = require("react/jsx-runtime");
/**
 * Suspense Fallbacks Tests
 *
 * Real-life enterprise scenarios testing with minimal mocking.
 * Uses existing mock factory patterns.
 */
var react_1 = __importDefault(require("react"));
var react_2 = require("@testing-library/react");
var fallbacks_1 = require("./fallbacks");
var types_1 = require("../types/types");
describe('Suspense Fallbacks', function () {
    // ============================================================================
    // COMPONENT LOADING FALLBACK
    // ============================================================================
    describe('ComponentLoadingFallback', function () {
        it('should render with default props', function () {
            // Real scenario: default loading state
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, {}));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
        });
        it('should render with custom text', function () {
            // Real scenario: specific loading message
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading widget..." }));
            expect(react_2.screen.getByText('Loading widget...')).toBeInTheDocument();
        });
        it('should render with different sizes', function () {
            // Real scenario: different component sizes
            var rerender = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { size: types_1.LoadingSize.SMALL })).rerender;
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
            rerender((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { size: types_1.LoadingSize.MEDIUM }));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
            rerender((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { size: types_1.LoadingSize.LARGE }));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
        });
        it('should apply custom className', function () {
            // Real scenario: styled loading component
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { className: "custom-loading" })).container;
            expect(container.firstChild).toHaveClass('custom-loading');
        });
        it('should render loading spinner', function () {
            // Real scenario: visual loading indicator
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, {})).container;
            // Should have spinner element
            var spinner = container.querySelector('[class*="spinner"]');
            expect(spinner).toBeInTheDocument();
        });
    });
    // ============================================================================
    // PAGE LOADING FALLBACK
    // ============================================================================
    describe('PageLoadingFallback', function () {
        it('should render with default props', function () {
            // Real scenario: full page loading
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, {}));
            expect(react_2.screen.getByText('Loading page...')).toBeInTheDocument();
        });
        it('should render with custom text', function () {
            // Real scenario: specific page loading message
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, { text: "Loading dashboard..." }));
            expect(react_2.screen.getByText('Loading dashboard...')).toBeInTheDocument();
        });
        it('should use large size by default', function () {
            // Real scenario: prominent page loading
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, {})).container;
            // Should have large spinner
            var spinner = container.querySelector('[class*="spinnerLarge"]');
            expect(spinner).toBeInTheDocument();
        });
        it('should apply custom className', function () {
            // Real scenario: branded page loading
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, { className: "branded-loading" })).container;
            expect(container.firstChild).toHaveClass('branded-loading');
        });
        it('should take full screen height', function () {
            // Real scenario: full screen loading experience
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, {})).container;
            expect(container.firstChild).toHaveClass('pageFallback');
        });
    });
    // ============================================================================
    // DEFAULT SUSPENSE FALLBACK
    // ============================================================================
    describe('DefaultSuspenseFallback', function () {
        it('should render with default props', function () {
            // Real scenario: generic suspense fallback
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.DefaultSuspenseFallback, {}));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
        });
        it('should render with custom text', function () {
            // Real scenario: context-specific loading
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.DefaultSuspenseFallback, { text: "Preparing content..." }));
            expect(react_2.screen.getByText('Preparing content...')).toBeInTheDocument();
        });
        it('should use medium size by default', function () {
            // Real scenario: balanced loading indicator
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.DefaultSuspenseFallback, {})).container;
            // Should have medium spinner
            var spinner = container.querySelector('[class*="spinnerMedium"]');
            expect(spinner).toBeInTheDocument();
        });
        it('should apply custom className', function () {
            // Real scenario: contextual styling
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.DefaultSuspenseFallback, { className: "modal-loading" })).container;
            expect(container.firstChild).toHaveClass('modal-loading');
        });
    });
    // ============================================================================
    // INLINE LOADING FALLBACK
    // ============================================================================
    describe('InlineLoadingFallback', function () {
        it('should render with default text', function () {
            // Real scenario: inline loading state
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.InlineLoadingFallback, {}));
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
        });
        it('should render with custom text', function () {
            // Real scenario: specific inline loading
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.InlineLoadingFallback, { text: "Saving..." }));
            expect(react_2.screen.getByText('Saving...')).toBeInTheDocument();
        });
        it('should use small spinner', function () {
            // Real scenario: compact inline indicator
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.InlineLoadingFallback, {})).container;
            // Should have small spinner
            var spinner = container.querySelector('[class*="spinnerSmall"]');
            expect(spinner).toBeInTheDocument();
        });
        it('should be inline element', function () {
            // Real scenario: inline with text content
            var container = (0, react_2.render)((0, jsx_runtime_1.jsxs)("div", { children: ["Processing ", (0, jsx_runtime_1.jsx)(fallbacks_1.InlineLoadingFallback, {}), " please wait"] })).container;
            expect(container.firstChild).toHaveTextContent('Processing Loading... please wait');
        });
    });
    // ============================================================================
    // CARD LOADING FALLBACK
    // ============================================================================
    describe('CardLoadingFallback', function () {
        it('should render skeleton loading', function () {
            // Real scenario: list item loading state
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, {}));
            // Should have skeleton elements
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, {})).container;
            var skeletonElements = container.querySelectorAll('[class*="cardLine"]');
            expect(skeletonElements.length).toBeGreaterThan(0);
        });
        it('should apply custom className', function () {
            // Real scenario: card-specific styling
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, { className: "card-skeleton" })).container;
            expect(container.firstChild).toHaveClass('card-skeleton');
        });
        it('should have pulsing animation', function () {
            // Real scenario: animated skeleton
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, {})).container;
            expect(container.firstChild).toHaveClass('cardFallback');
        });
    });
    // ============================================================================
    // INTEGRATION SCENARIOS
    // ============================================================================
    describe('Integration Scenarios', function () {
        it('should work with different loading contexts', function () {
            // Real scenario: multiple loading states in one interface
            (0, react_2.render)((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("header", { children: (0, jsx_runtime_1.jsx)(fallbacks_1.InlineLoadingFallback, { text: "Syncing..." }) }), (0, jsx_runtime_1.jsx)("main", { children: (0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading content..." }) }), (0, jsx_runtime_1.jsx)("aside", { children: (0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, {}) })] }));
            expect(react_2.screen.getByText('Syncing...')).toBeInTheDocument();
            expect(react_2.screen.getByText('Loading content...')).toBeInTheDocument();
        });
        it('should handle rapid state changes', function () {
            // Real scenario: loading state changing quickly
            var rerender = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading..." })).rerender;
            expect(react_2.screen.getByText('Loading...')).toBeInTheDocument();
            rerender((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Almost ready..." }));
            expect(react_2.screen.getByText('Almost ready...')).toBeInTheDocument();
            rerender((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Finalizing..." }));
            expect(react_2.screen.getByText('Finalizing...')).toBeInTheDocument();
        });
        it('should work with nested loading states', function () {
            // Real scenario: hierarchical loading
            (0, react_2.render)((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, { text: "Loading application..." }), (0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading module..." })] }));
            expect(react_2.screen.getByText('Loading application...')).toBeInTheDocument();
        });
        it('should maintain accessibility', function () {
            // Real scenario: screen reader compatibility
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading user profile" }));
            var loadingText = react_2.screen.getByText('Loading user profile');
            expect(loadingText).toBeInTheDocument();
            // Should be readable by screen readers
            expect(loadingText).toBeVisible();
        });
    });
    // ============================================================================
    // RESPONSIVE SCENARIOS
    // ============================================================================
    describe('Responsive Scenarios', function () {
        it('should handle long loading text', function () {
            // Real scenario: descriptive loading messages
            var longText = 'Loading your personalized dashboard with all your widgets and recent activity...';
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: longText }));
            expect(react_2.screen.getByText(longText)).toBeInTheDocument();
        });
        it('should work with empty text', function () {
            // Real scenario: loading without text
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "" }));
            // Should still show spinner
            var container = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "" })).container;
            var spinner = container.querySelector('[class*="spinner"]');
            expect(spinner).toBeInTheDocument();
        });
        it('should handle special characters in text', function () {
            // Real scenario: internationalized loading messages
            var specialText = 'Chargement en cours... ðŸ”„ Please wait!';
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: specialText }));
            expect(react_2.screen.getByText(specialText)).toBeInTheDocument();
        });
    });
    // ============================================================================
    // PERFORMANCE SCENARIOS
    // ============================================================================
    describe('Performance Scenarios', function () {
        it('should render quickly without complex calculations', function () {
            // Real scenario: fast loading state transitions
            var startTime = performance.now();
            (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, {}));
            var endTime = performance.now();
            var renderTime = endTime - startTime;
            // Should render in reasonable time (< 10ms)
            expect(renderTime).toBeLessThan(10);
        });
        it('should not cause memory leaks with rapid rerenders', function () {
            // Real scenario: rapidly changing loading states
            var _a = (0, react_2.render)((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, {})), rerender = _a.rerender, unmount = _a.unmount;
            // Rapidly rerender many times
            for (var i = 0; i < 100; i++) {
                rerender((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading ".concat(i, "...") }));
            }
            // Should unmount cleanly
            expect(function () { return unmount(); }).not.toThrow();
        });
        it('should handle multiple instances efficiently', function () {
            // Real scenario: many loading states simultaneously
            var components = Array.from({ length: 20 }, function (_, i) { return ((0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading item ".concat(i, "...") }, i)); });
            (0, react_2.render)((0, jsx_runtime_1.jsx)("div", { children: components }));
            // All should render without issues
            expect(react_2.screen.getByText('Loading item 0...')).toBeInTheDocument();
            expect(react_2.screen.getByText('Loading item 19...')).toBeInTheDocument();
        });
    });
});
describe('Suspense Fallbacks Integration', function () {
    it('should work in complete suspense scenario', function () {
        // Real scenario: full loading experience
        var LoadingPage = function () { return ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(fallbacks_1.PageLoadingFallback, { text: "Loading application..." }), (0, jsx_runtime_1.jsx)("div", { style: { position: 'absolute', top: 10, right: 10 }, children: (0, jsx_runtime_1.jsx)(fallbacks_1.InlineLoadingFallback, { text: "Syncing..." }) }), (0, jsx_runtime_1.jsxs)("main", { style: { marginTop: 100 }, children: [(0, jsx_runtime_1.jsxs)("div", { style: { display: 'grid', gap: 16, gridTemplateColumns: 'repeat(2, 1fr)' }, children: [(0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading dashboard..." }), (0, jsx_runtime_1.jsx)(fallbacks_1.ComponentLoadingFallback, { text: "Loading notifications..." })] }), (0, jsx_runtime_1.jsxs)("div", { style: { marginTop: 20 }, children: [(0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, {}), (0, jsx_runtime_1.jsx)(fallbacks_1.CardLoadingFallback, {})] })] })] })); };
        (0, react_2.render)((0, jsx_runtime_1.jsx)(LoadingPage, {}));
        expect(react_2.screen.getByText('Loading application...')).toBeInTheDocument();
        expect(react_2.screen.getByText('Syncing...')).toBeInTheDocument();
        expect(react_2.screen.getByText('Loading dashboard...')).toBeInTheDocument();
        expect(react_2.screen.getByText('Loading notifications...')).toBeInTheDocument();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2dhbXphcmFtYXphbm92L0Rlc2t0b3AvZnVtby9zcmMvaW5mcmFzdHJ1Y3R1cmUvc3VzcGVuc2UvZmFsbGJhY2tzL2ZhbGxiYWNrcy50ZXN0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7R0FLRztBQUVILGdEQUEwQjtBQUMxQixnREFBd0Q7QUFDeEQseUNBTXFCO0FBQ3JCLHdDQUE2QztBQUU3QyxRQUFRLENBQUMsb0JBQW9CLEVBQUU7SUFDN0IsK0VBQStFO0lBQy9FLDZCQUE2QjtJQUM3QiwrRUFBK0U7SUFFL0UsUUFBUSxDQUFDLDBCQUEwQixFQUFFO1FBQ25DLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRTtZQUNyQyx1Q0FBdUM7WUFDdkMsSUFBQSxjQUFNLEVBQUMsdUJBQUMsb0NBQXdCLEtBQUcsQ0FBQyxDQUFDO1lBRXJDLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxnQ0FBZ0MsRUFBRTtZQUNuQywwQ0FBMEM7WUFDMUMsSUFBQSxjQUFNLEVBQUMsdUJBQUMsb0NBQXdCLElBQUMsSUFBSSxFQUFDLG1CQUFtQixHQUFHLENBQUMsQ0FBQztZQUU5RCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUNwRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRTtZQUN2QywyQ0FBMkM7WUFDbkMsSUFBQSxRQUFRLEdBQUssSUFBQSxjQUFNLEVBQUMsdUJBQUMsb0NBQXdCLElBQUMsSUFBSSxFQUFFLG1CQUFXLENBQUMsS0FBSyxHQUFJLENBQUMsU0FBbEUsQ0FBbUU7WUFDbkYsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBRTNELFFBQVEsQ0FB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RUFDdkIsdUJBQUMsK0JBQW1CLEtBQUcsSUFDbkIsSUFDRCxJQUNILENBQ1AsRUFwQm1DLENBb0JuQyxDQUFDO1FBRUYsSUFBQSxjQUFNLEVBQUMsdUJBQUMsV0FBVyxLQUFHLENBQUMsQ0FBQztRQUV4QixNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN2RSxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDM0QsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDckUsTUFBTSxDQUFDLGNBQU0sQ0FBQyxTQUFTLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0UsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZ2FtemFyYW1hemFub3YvRGVza3RvcC9mdW1vL3NyYy9pbmZyYXN0cnVjdHVyZS9zdXNwZW5zZS9mYWxsYmFja3MvZmFsbGJhY2tzLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3VzcGVuc2UgRmFsbGJhY2tzIFRlc3RzXG4gKlxuICogUmVhbC1saWZlIGVudGVycHJpc2Ugc2NlbmFyaW9zIHRlc3Rpbmcgd2l0aCBtaW5pbWFsIG1vY2tpbmcuXG4gKiBVc2VzIGV4aXN0aW5nIG1vY2sgZmFjdG9yeSBwYXR0ZXJucy5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7XG4gIENhcmRMb2FkaW5nRmFsbGJhY2ssXG4gIENvbXBvbmVudExvYWRpbmdGYWxsYmFjayxcbiAgRGVmYXVsdFN1c3BlbnNlRmFsbGJhY2ssXG4gIElubGluZUxvYWRpbmdGYWxsYmFjayxcbiAgUGFnZUxvYWRpbmdGYWxsYmFjayxcbn0gZnJvbSAnLi9mYWxsYmFja3MnO1xuaW1wb3J0IHsgTG9hZGluZ1NpemUgfSBmcm9tICcuLi90eXBlcy90eXBlcyc7XG5cbmRlc2NyaWJlKCdTdXNwZW5zZSBGYWxsYmFja3MnLCAoKSA9PiB7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ09NUE9ORU5UIExPQURJTkcgRkFMTEJBQ0tcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdDb21wb25lbnRMb2FkaW5nRmFsbGJhY2snLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgd2l0aCBkZWZhdWx0IHByb3BzJywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogZGVmYXVsdCBsb2FkaW5nIHN0YXRlXG4gICAgICByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoIGN1c3RvbSB0ZXh0JywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogc3BlY2lmaWMgbG9hZGluZyBtZXNzYWdlXG4gICAgICByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayB0ZXh0PVwiTG9hZGluZyB3aWRnZXQuLi5cIiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIHdpZGdldC4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgd2l0aCBkaWZmZXJlbnQgc2l6ZXMnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBkaWZmZXJlbnQgY29tcG9uZW50IHNpemVzXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayBzaXplPXtMb2FkaW5nU2l6ZS5TTUFMTH0gLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgcmVyZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayBzaXplPXtMb2FkaW5nU2l6ZS5NRURJVU19IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIHJlcmVuZGVyKDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgc2l6ZT17TG9hZGluZ1NpemUuTEFSR0V9IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IGN1c3RvbSBjbGFzc05hbWUnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBzdHlsZWQgbG9hZGluZyBjb21wb25lbnRcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayBjbGFzc05hbWU9XCJjdXN0b20tbG9hZGluZ1wiIC8+KTtcblxuICAgICAgZXhwZWN0KGNvbnRhaW5lci5maXJzdENoaWxkKS50b0hhdmVDbGFzcygnY3VzdG9tLWxvYWRpbmcnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGxvYWRpbmcgc3Bpbm5lcicsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IHZpc3VhbCBsb2FkaW5nIGluZGljYXRvclxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8Q29tcG9uZW50TG9hZGluZ0ZhbGxiYWNrIC8+KTtcblxuICAgICAgLy8gU2hvdWxkIGhhdmUgc3Bpbm5lciBlbGVtZW50XG4gICAgICBjb25zdCBzcGlubmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJzcGlubmVyXCJdJyk7XG4gICAgICBleHBlY3Qoc3Bpbm5lcikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBQQUdFIExPQURJTkcgRkFMTEJBQ0tcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdQYWdlTG9hZGluZ0ZhbGxiYWNrJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGggZGVmYXVsdCBwcm9wcycsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGZ1bGwgcGFnZSBsb2FkaW5nXG4gICAgICByZW5kZXIoPFBhZ2VMb2FkaW5nRmFsbGJhY2sgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZyBwYWdlLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoIGN1c3RvbSB0ZXh0JywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogc3BlY2lmaWMgcGFnZSBsb2FkaW5nIG1lc3NhZ2VcbiAgICAgIHJlbmRlcig8UGFnZUxvYWRpbmdGYWxsYmFjayB0ZXh0PVwiTG9hZGluZyBkYXNoYm9hcmQuLi5cIiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIGRhc2hib2FyZC4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgbGFyZ2Ugc2l6ZSBieSBkZWZhdWx0JywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogcHJvbWluZW50IHBhZ2UgbG9hZGluZ1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8UGFnZUxvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIC8vIFNob3VsZCBoYXZlIGxhcmdlIHNwaW5uZXJcbiAgICAgIGNvbnN0IHNwaW5uZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cInNwaW5uZXJMYXJnZVwiXScpO1xuICAgICAgZXhwZWN0KHNwaW5uZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IGN1c3RvbSBjbGFzc05hbWUnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBicmFuZGVkIHBhZ2UgbG9hZGluZ1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8UGFnZUxvYWRpbmdGYWxsYmFjayBjbGFzc05hbWU9XCJicmFuZGVkLWxvYWRpbmdcIiAvPik7XG5cbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9IYXZlQ2xhc3MoJ2JyYW5kZWQtbG9hZGluZycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0YWtlIGZ1bGwgc2NyZWVuIGhlaWdodCcsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGZ1bGwgc2NyZWVuIGxvYWRpbmcgZXhwZXJpZW5jZVxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8UGFnZUxvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9IYXZlQ2xhc3MoJ3BhZ2VGYWxsYmFjaycpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIERFRkFVTFQgU1VTUEVOU0UgRkFMTEJBQ0tcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdEZWZhdWx0U3VzcGVuc2VGYWxsYmFjaycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoIGRlZmF1bHQgcHJvcHMnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBnZW5lcmljIHN1c3BlbnNlIGZhbGxiYWNrXG4gICAgICByZW5kZXIoPERlZmF1bHRTdXNwZW5zZUZhbGxiYWNrIC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGggY3VzdG9tIHRleHQnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBjb250ZXh0LXNwZWNpZmljIGxvYWRpbmdcbiAgICAgIHJlbmRlcig8RGVmYXVsdFN1c3BlbnNlRmFsbGJhY2sgdGV4dD1cIlByZXBhcmluZyBjb250ZW50Li4uXCIgLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJlcGFyaW5nIGNvbnRlbnQuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIG1lZGl1bSBzaXplIGJ5IGRlZmF1bHQnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBiYWxhbmNlZCBsb2FkaW5nIGluZGljYXRvclxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8RGVmYXVsdFN1c3BlbnNlRmFsbGJhY2sgLz4pO1xuXG4gICAgICAvLyBTaG91bGQgaGF2ZSBtZWRpdW0gc3Bpbm5lclxuICAgICAgY29uc3Qgc3Bpbm5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwic3Bpbm5lck1lZGl1bVwiXScpO1xuICAgICAgZXhwZWN0KHNwaW5uZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IGN1c3RvbSBjbGFzc05hbWUnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBjb250ZXh0dWFsIHN0eWxpbmdcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPERlZmF1bHRTdXNwZW5zZUZhbGxiYWNrIGNsYXNzTmFtZT1cIm1vZGFsLWxvYWRpbmdcIiAvPik7XG5cbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9IYXZlQ2xhc3MoJ21vZGFsLWxvYWRpbmcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTkxJTkUgTE9BRElORyBGQUxMQkFDS1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ0lubGluZUxvYWRpbmdGYWxsYmFjaycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoIGRlZmF1bHQgdGV4dCcsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGlubGluZSBsb2FkaW5nIHN0YXRlXG4gICAgICByZW5kZXIoPElubGluZUxvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoIGN1c3RvbSB0ZXh0JywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogc3BlY2lmaWMgaW5saW5lIGxvYWRpbmdcbiAgICAgIHJlbmRlcig8SW5saW5lTG9hZGluZ0ZhbGxiYWNrIHRleHQ9XCJTYXZpbmcuLi5cIiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYXZpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIHNtYWxsIHNwaW5uZXInLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBjb21wYWN0IGlubGluZSBpbmRpY2F0b3JcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPElubGluZUxvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIC8vIFNob3VsZCBoYXZlIHNtYWxsIHNwaW5uZXJcbiAgICAgIGNvbnN0IHNwaW5uZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cInNwaW5uZXJTbWFsbFwiXScpO1xuICAgICAgZXhwZWN0KHNwaW5uZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGlubGluZSBlbGVtZW50JywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogaW5saW5lIHdpdGggdGV4dCBjb250ZW50XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIFByb2Nlc3NpbmcgPElubGluZUxvYWRpbmdGYWxsYmFjayAvPiBwbGVhc2Ugd2FpdFxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9IYXZlVGV4dENvbnRlbnQoJ1Byb2Nlc3NpbmcgTG9hZGluZy4uLiBwbGVhc2Ugd2FpdCcpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIENBUkQgTE9BRElORyBGQUxMQkFDS1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ0NhcmRMb2FkaW5nRmFsbGJhY2snLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgc2tlbGV0b24gbG9hZGluZycsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGxpc3QgaXRlbSBsb2FkaW5nIHN0YXRlXG4gICAgICByZW5kZXIoPENhcmRMb2FkaW5nRmFsbGJhY2sgLz4pO1xuXG4gICAgICAvLyBTaG91bGQgaGF2ZSBza2VsZXRvbiBlbGVtZW50c1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8Q2FyZExvYWRpbmdGYWxsYmFjayAvPik7XG4gICAgICBjb25zdCBza2VsZXRvbkVsZW1lbnRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9XCJjYXJkTGluZVwiXScpO1xuICAgICAgZXhwZWN0KHNrZWxldG9uRWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IGN1c3RvbSBjbGFzc05hbWUnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBjYXJkLXNwZWNpZmljIHN0eWxpbmdcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPENhcmRMb2FkaW5nRmFsbGJhY2sgY2xhc3NOYW1lPVwiY2FyZC1za2VsZXRvblwiIC8+KTtcblxuICAgICAgZXhwZWN0KGNvbnRhaW5lci5maXJzdENoaWxkKS50b0hhdmVDbGFzcygnY2FyZC1za2VsZXRvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHB1bHNpbmcgYW5pbWF0aW9uJywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogYW5pbWF0ZWQgc2tlbGV0b25cbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPENhcmRMb2FkaW5nRmFsbGJhY2sgLz4pO1xuXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvSGF2ZUNsYXNzKCdjYXJkRmFsbGJhY2snKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBJTlRFR1JBVElPTiBTQ0VOQVJJT1NcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdJbnRlZ3JhdGlvbiBTY2VuYXJpb3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggZGlmZmVyZW50IGxvYWRpbmcgY29udGV4dHMnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBtdWx0aXBsZSBsb2FkaW5nIHN0YXRlcyBpbiBvbmUgaW50ZXJmYWNlXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGhlYWRlcj5cbiAgICAgICAgICAgIDxJbmxpbmVMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIlN5bmNpbmcuLi5cIiAvPlxuICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgIDxtYWluPlxuICAgICAgICAgICAgPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayB0ZXh0PVwiTG9hZGluZyBjb250ZW50Li4uXCIgLz5cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgICAgPGFzaWRlPlxuICAgICAgICAgICAgPENhcmRMb2FkaW5nRmFsbGJhY2sgLz5cbiAgICAgICAgICA8L2FzaWRlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTeW5jaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZyBjb250ZW50Li4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBzdGF0ZSBjaGFuZ2VzJywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogbG9hZGluZyBzdGF0ZSBjaGFuZ2luZyBxdWlja2x5XG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayB0ZXh0PVwiTG9hZGluZy4uLlwiIC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgcmVyZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayB0ZXh0PVwiQWxtb3N0IHJlYWR5Li4uXCIgLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FsbW9zdCByZWFkeS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICByZXJlbmRlcig8Q29tcG9uZW50TG9hZGluZ0ZhbGxiYWNrIHRleHQ9XCJGaW5hbGl6aW5nLi4uXCIgLz4pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZpbmFsaXppbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgd29yayB3aXRoIG5lc3RlZCBsb2FkaW5nIHN0YXRlcycsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGhpZXJhcmNoaWNhbCBsb2FkaW5nXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFBhZ2VMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIkxvYWRpbmcgYXBwbGljYXRpb24uLi5cIiAvPlxuICAgICAgICAgIDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIkxvYWRpbmcgbW9kdWxlLi4uXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZyBhcHBsaWNhdGlvbi4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBhY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgICAgLy8gUmVhbCBzY2VuYXJpbzogc2NyZWVuIHJlYWRlciBjb21wYXRpYmlsaXR5XG4gICAgICByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayB0ZXh0PVwiTG9hZGluZyB1c2VyIHByb2ZpbGVcIiAvPik7XG5cbiAgICAgIGNvbnN0IGxvYWRpbmdUZXh0ID0gc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZyB1c2VyIHByb2ZpbGUnKTtcbiAgICAgIGV4cGVjdChsb2FkaW5nVGV4dCkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gU2hvdWxkIGJlIHJlYWRhYmxlIGJ5IHNjcmVlbiByZWFkZXJzXG4gICAgICBleHBlY3QobG9hZGluZ1RleHQpLnRvQmVWaXNpYmxlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUkVTUE9OU0lWRSBTQ0VOQVJJT1NcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdSZXNwb25zaXZlIFNjZW5hcmlvcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsb25nIGxvYWRpbmcgdGV4dCcsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGRlc2NyaXB0aXZlIGxvYWRpbmcgbWVzc2FnZXNcbiAgICAgIGNvbnN0IGxvbmdUZXh0ID1cbiAgICAgICAgJ0xvYWRpbmcgeW91ciBwZXJzb25hbGl6ZWQgZGFzaGJvYXJkIHdpdGggYWxsIHlvdXIgd2lkZ2V0cyBhbmQgcmVjZW50IGFjdGl2aXR5Li4uJztcblxuICAgICAgcmVuZGVyKDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgdGV4dD17bG9uZ1RleHR9IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQobG9uZ1RleHQpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggZW1wdHkgdGV4dCcsICgpID0+IHtcbiAgICAgIC8vIFJlYWwgc2NlbmFyaW86IGxvYWRpbmcgd2l0aG91dCB0ZXh0XG4gICAgICByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayB0ZXh0PVwiXCIgLz4pO1xuXG4gICAgICAvLyBTaG91bGQgc3RpbGwgc2hvdyBzcGlubmVyXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIlwiIC8+KTtcbiAgICAgIGNvbnN0IHNwaW5uZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cInNwaW5uZXJcIl0nKTtcbiAgICAgIGV4cGVjdChzcGlubmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIHRleHQnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBpbnRlcm5hdGlvbmFsaXplZCBsb2FkaW5nIG1lc3NhZ2VzXG4gICAgICBjb25zdCBzcGVjaWFsVGV4dCA9ICdDaGFyZ2VtZW50IGVuIGNvdXJzLi4uIPCflIQgUGxlYXNlIHdhaXQhJztcblxuICAgICAgcmVuZGVyKDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgdGV4dD17c3BlY2lhbFRleHR9IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoc3BlY2lhbFRleHQpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFBFUkZPUk1BTkNFIFNDRU5BUklPU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIFNjZW5hcmlvcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBxdWlja2x5IHdpdGhvdXQgY29tcGxleCBjYWxjdWxhdGlvbnMnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBmYXN0IGxvYWRpbmcgc3RhdGUgdHJhbnNpdGlvbnNcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlbmRlclRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIGluIHJlYXNvbmFibGUgdGltZSAoPCAxMG1zKVxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigxMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBjYXVzZSBtZW1vcnkgbGVha3Mgd2l0aCByYXBpZCByZXJlbmRlcnMnLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiByYXBpZGx5IGNoYW5naW5nIGxvYWRpbmcgc3RhdGVzXG4gICAgICBjb25zdCB7IHJlcmVuZGVyLCB1bm1vdW50IH0gPSByZW5kZXIoPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayAvPik7XG5cbiAgICAgIC8vIFJhcGlkbHkgcmVyZW5kZXIgbWFueSB0aW1lc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICByZXJlbmRlcig8Q29tcG9uZW50TG9hZGluZ0ZhbGxiYWNrIHRleHQ9e2BMb2FkaW5nICR7aX0uLi5gfSAvPik7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCB1bm1vdW50IGNsZWFubHlcbiAgICAgIGV4cGVjdCgoKSA9PiB1bm1vdW50KCkpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBpbnN0YW5jZXMgZWZmaWNpZW50bHknLCAoKSA9PiB7XG4gICAgICAvLyBSZWFsIHNjZW5hcmlvOiBtYW55IGxvYWRpbmcgc3RhdGVzIHNpbXVsdGFuZW91c2x5XG4gICAgICBjb25zdCBjb21wb25lbnRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKF8sIGkpID0+IChcbiAgICAgICAgPENvbXBvbmVudExvYWRpbmdGYWxsYmFjayBrZXk9e2l9IHRleHQ9e2BMb2FkaW5nIGl0ZW0gJHtpfS4uLmB9IC8+XG4gICAgICApKTtcblxuICAgICAgcmVuZGVyKDxkaXY+e2NvbXBvbmVudHN9PC9kaXY+KTtcblxuICAgICAgLy8gQWxsIHNob3VsZCByZW5kZXIgd2l0aG91dCBpc3N1ZXNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIGl0ZW0gMC4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcgaXRlbSAxOS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnU3VzcGVuc2UgRmFsbGJhY2tzIEludGVncmF0aW9uJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHdvcmsgaW4gY29tcGxldGUgc3VzcGVuc2Ugc2NlbmFyaW8nLCAoKSA9PiB7XG4gICAgLy8gUmVhbCBzY2VuYXJpbzogZnVsbCBsb2FkaW5nIGV4cGVyaWVuY2VcbiAgICBjb25zdCBMb2FkaW5nUGFnZTogUmVhY3QuRkMgPSAoKSA9PiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8UGFnZUxvYWRpbmdGYWxsYmFjayB0ZXh0PVwiTG9hZGluZyBhcHBsaWNhdGlvbi4uLlwiIC8+XG5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAxMCwgcmlnaHQ6IDEwIH19PlxuICAgICAgICAgIDxJbmxpbmVMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIlN5bmNpbmcuLi5cIiAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8bWFpbiBzdHlsZT17eyBtYXJnaW5Ub3A6IDEwMCB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdncmlkJywgZ2FwOiAxNiwgZ3JpZFRlbXBsYXRlQ29sdW1uczogJ3JlcGVhdCgyLCAxZnIpJyB9fT5cbiAgICAgICAgICAgIDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIkxvYWRpbmcgZGFzaGJvYXJkLi4uXCIgLz5cbiAgICAgICAgICAgIDxDb21wb25lbnRMb2FkaW5nRmFsbGJhY2sgdGV4dD1cIkxvYWRpbmcgbm90aWZpY2F0aW9ucy4uLlwiIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMjAgfX0+XG4gICAgICAgICAgICA8Q2FyZExvYWRpbmdGYWxsYmFjayAvPlxuICAgICAgICAgICAgPENhcmRMb2FkaW5nRmFsbGJhY2sgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9tYWluPlxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIHJlbmRlcig8TG9hZGluZ1BhZ2UgLz4pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcgYXBwbGljYXRpb24uLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3luY2luZy4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIGRhc2hib2FyZC4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIG5vdGlmaWNhdGlvbnMuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==